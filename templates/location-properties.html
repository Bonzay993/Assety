{% extends "inventory.html" %}
{% block content %}

    <div class="new-location-form-container default-form-container">
        <div class="new-location-form-header">
            <h1 class="assets-heading">Add New Location</h1>
        </div>
        <form class="new-location-form default-form" action="{{ url_for('save_location') }}" method="POST" id="location-form">
            <input type="hidden" name="location_id" value="{{ location._id if location else '' }}">  <!-- Store ID -->
            <div class="form-group">
                <label for="location-tag">Location Name</label>
                <input type="text" id="location-tag" name="location-tag" value="{{ location.location_tag }}" required>
            </div>

            <div class="form-group">
                <label for="phone">Phone</label>
                <input type="number" id="phone" name="phone" value="{{ location.phone}}">
            </div>

            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" id="address" name="address" value="{{ location.address }}">
            </div>

            <div class="form-group">
                <label for="city">City</label>
                <input type text="text" name="city" value="{{ location.city }}" >
            </div>

            <div class="form-group">
                <label for="state">State</label>
                <input type="text" id="state"  name="state" value="{{ location.state }}">
            </div>

            <div class="form-group">
                <label for="post-code">Post Code</label>
                <input type="text" id="post-code"  name="post-code" value="{{ location.post_code }}">
            </div>

            <div class="form-actions">
                <a href="javascript:window.history.back()" class="form-cancel">Cancel</a>
                <button type="submit" class="btn save-btn"><i class="fa-solid fa-check"></i> Save</button>
            </div>
        </form>
    </div>


<script>
    // Optional: You can add JavaScript validation if needed
    document.getElementById('location-form').addEventListener('submit', function(event) {
        // Example: prevent form submission if required fields are missing or invalid
        const form = event.target;
        const fields = form.querySelectorAll('[required]');
        let valid = true;

        fields.forEach(function(field) {
            if (!field.value) {
                valid = false;
                field.classList.add('error');
            } else {
                field.classList.remove('error');
            }
        });

        if (!valid) {
            event.preventDefault();
            alert("Please fill out all required fields.");
        }
    });
</script>

{% endblock %}