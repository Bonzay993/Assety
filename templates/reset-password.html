{% extends "index.html" %}
{% block content %}
    

    <!-- Reset Password Form -->
    <form class="reset-password-form reset-password" method="POST" action="{{ url_for('reset_password', token=token) }}">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="alert alert-danger alert-{{ category }} mt-3">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        <h3>Reset your password</h3>
        <div class="form-group">
            <p class="form-paragraph">Please choose a password</p>
            <input type="password" name="password" id="password" class="form-control" id="" 
                   aria-describedby="emailHelp" placeholder="Enter your password">
        </div>
        <div class="form-group">
            <p class="form-paragraph">Please confirm your password</p>
            <input type="password" name="password" id="repeat-password" class="form-control" id="" 
            aria-describedby="emailHelp" placeholder="Enter your password">
        </div>
        
        <div id="password-feedback" class="password-feedback" style="display: none;">
            <p id="length-feedback" class="feedback-text">Password must be at least 6 characters long</p>
            <p id="uppercase-feedback" class="feedback-text">Password must contain at least one uppercase letter</p>
            <p id="match-feedback" class="feedback-text">Passwords must match</p>
            <p id="company-feedback" class="feedback-text">Company name in use. Please ask your admin to provide credentials or contact support</p>
        </div>
       
        <button type="submit" class="btn btn-primary sign-in-btn register-buttons reset-pass-btn">
            Reset Password
        </button>
        <a href="{{ url_for('login') }}" class="return-to-sign-in">Return to Sign In</a>
    </form>
{% endblock %}